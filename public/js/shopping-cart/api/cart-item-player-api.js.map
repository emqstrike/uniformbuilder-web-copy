{"version":3,"sources":["CartItemPlayerApi.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"cart-item-player-api.js","sourcesContent":["/**\n * Dependency\n * - jquery\n * - X-CSRF-TOKEN - to avoid token mismatch\n */\n\nfunction CartItemPlayerApi(logged_in_token, cart_token) {\n    this.logged_in_token = logged_in_token;\n    this.cart_token = cart_token;\n\n    this.cartPermit = {\n        logged_in_token: this.logged_in_token,\n        cart_token: this.cart_token,\n\n        // laravel token\n        _token: $('meta[name=\"csrf-token\"]').attr('content')\n    };\n}\n\nCartItemPlayerApi.prototype = {\n    /**\n     * @param {int} cart_item_id\n     * @param {json} data {\n     *     size: string,\n     *     last_name: [string],\n     *     number: [string],\n     *     price: [double],\n     *     quantity: [int],\n     * }\n     * @param {function} callback\n     * @return {void}\n     */\n    addPlayer: function(cart_item_id, data, callback, ajaxObject) {\n        var params = $.extend({},\n            this.cartPermit,\n            {cart_item_id: cart_item_id},\n            data\n        );\n\n        var url = \"/api/shopping-cart/cart-item-players/add\";\n\n        if (typeof ajaxObject === \"undefined\") {\n            $.post(url, params, callback);\n        } else {\n            $.ajax($.extend({}, {\n                url: url,\n                type: \"POST\",\n                dataType: 'JSON',\n                data: params\n            }, ajaxObject));\n        }\n    },\n\n    /**\n     * @param {int} cart_item_id\n     * @param {int} player_id\n     * @param {json} data {\n     *     last_name: [string],\n     *     number: [string],\n     *     quantity: [int],\n     * }\n     * @param {function} callback\n     * @return {void}\n     */\n    updatePlayer: function(cart_item_id, player_id, data, callback, ajaxObject) {\n        var params = $.extend({},\n            this.cartPermit,\n            {cart_item_id: cart_item_id},\n            data,\n            {_method: \"PUT\"}\n        );\n\n        var url = \"/api/shopping-cart/cart-item-players/\"+player_id+\"/update\";\n\n        if (typeof ajaxObject === \"undefined\") {\n            $.post(url, params, callback);\n        } else {\n            $.ajax($.extend({}, {\n                url: url,\n                type: \"POST\",\n                dataType: 'JSON',\n                data: params\n            }, ajaxObject));\n        }\n    },\n\n    /**\n     * @param  {int}   cart_item_id\n     * @param  {int}   player_id\n     * @param  {function} callback\n     * @return void\n     */\n    deletePlayer: function(cart_item_id, player_id, callback) {\n        var params = $.extend({},\n            this.cartPermit,\n            {cart_item_id: cart_item_id},\n            {_method: \"DELETE\"}\n        );\n\n        $.post(\"/api/shopping-cart/cart-item-players/\"+player_id+\"/delete\", params, callback);\n    },\n\n    /**\n     * @param {function} callback\n     * @return {void}\n     */\n    getPlayersPerCartItem: function(callback) {\n        $.get(\"/api/shopping-cart/cart-item-players\", this.cartPermit, callback);\n    }\n};"]}