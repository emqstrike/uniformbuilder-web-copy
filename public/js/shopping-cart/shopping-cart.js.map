{"version":3,"sources":["ShoppingCart.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"shopping-cart.js","sourcesContent":["/**\n * Required global object\n * - shopping_cart\n *     - logged_in_token\n *     - cart_token\n *     - cart_lifespan\n *\n * File dependencies\n * - public/js/shopping-cart/api/cart-item-api.js\n * - public/js/shopping-cart/api/cart-item-player-api.js\n * - public/js/shopping-cart/api/client-info-api.js\n */\n\nvar ShoppingCart = {\n    cia: null, // Cart Item Api\n    cipa: null, // Cart Item Player Api\n    clia: null, // Client Info Api\n\n    init: function() {\n        ShoppingCart.cia = new CartItemApi(shopping_cart.logged_in_token, shopping_cart.cart_token);\n        ShoppingCart.cipa = new CartItemPlayerApi(shopping_cart.logged_in_token, shopping_cart.cart_token);\n        ShoppingCart.clia = new ClientInfoApi(shopping_cart.logged_in_token, shopping_cart.cart_token);\n\n        ShoppingCart.cartTimer();\n        ShoppingCart.loadCartNumber();\n    },\n\n    cartTimer: function() {\n        var time_counter = 0;\n        var cart_lifespan = shopping_cart.cart_lifespan;\n\n        var timer = setInterval(function() {\n            $('#cart-timer').text(++time_counter);\n\n            if (time_counter >= cart_lifespan) {\n                clearInterval(timer);\n\n                $('#cart-timer').text(\"Timeout!\");\n\n                alert(\"The cart is now expired!\");\n                location.reload();\n            }\n\n        }, 1000); // 1 sec\n    },\n\n    loadCartNumber: function() {\n        ShoppingCart.cipa.getPlayersPerCartItem(function(response, textStatus, xhr) {\n            if (response.success) {\n                $('#cart-item-number').text(response.data.length).show();\n            }\n        });\n    }\n};\n\n$(document).ready(ShoppingCart.init);"]}